# Copyright 2023 2xdropout

import SNEKactions
from termcolor import colored
from os import system


def launch_listener():
    listenerType = SNEKactions.get_var('listener')
    port = str(SNEKactions.get_var('attackerPort'))

    if listenerType in ['nc', 'ncat']:
        system(str(listenerType) + ' -lvnp ' + port)
    else:
        errorText = 'ERROR ', listenerType, ' is not a valid listner!'
        print(colored(errorText,'red'))


def launch_connecter(port):
    connectorType = SNEKactions.get_var('listener')
    
    if connectorType in ['nc', 'ncat']:
        system(str(connectorType) + " " + str(SNEKactions.get_var('target')) + " " + str(port))
    else:
        errorText = 'ERROR ', listenerType, ' is not a valid listner!'
        print(colored(errorText,'red'))