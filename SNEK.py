#!/usr/bin/python3

# Copyright 2023 2xdropout

import os
import SNEKshell
import SNEKactions
import SNEKart

# Setup
global target
SNEKactions.clean_up()
os.system('touch .vars.SNEK')
SNEKactions.write_vars('attackerPort',8008)
SNEKactions.write_vars('listener','nc')
SNEKart.main()
SNEKart.title()

def main(target):
    startTargetCheck = False
    command = input ('\nSNEK>>> ')

    # Check for shared commands
    SNEKactions.base_actions(command,'main')

    # Commands that don't require any values to be set
    if command in ['exit', 'EXIT']:
        SNEKactions.clean_up()
        exit()
    

    # Commands that require a value to be set
    if command in ['shells', 'SHELLS']:
        print('\nENTERING SHELLS MENU\n')
        SNEKshell.main(target)
    elif command in ['recon','RECON']:
        print('\nENTERING RECON MENU\n')
    elif command in ['transfer','TRANSFER']:
        print('\nENTERING TRANSFER MENU\n')
    
    main(target)

main(None)